{"version":3,"file":"static/webpack/static\\development\\pages\\truyen.js.199c003247a2766a4da9.hot-update.js","sources":["webpack:///./pages/truyen.js"],"sourcesContent":["import Layout from '../components/MyLayout'\r\nimport 'isomorphic-unfetch'\r\nimport Link from 'next/link'\r\nimport React from 'react'\r\nimport { Icon, Skeleton, Tag } from 'antd';\r\nimport \"antd/dist/antd.css\";\r\nimport '../Css/style.css';\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nexport default class Truyen extends React.Component {\r\n    static async getInitialProps({ query: { id } }) {\r\n        // eslint-disable-next-line no-undef\r\n        // const { id } = context.query\r\n        const res = await fetch(`http://3.1.203.88:8001/novel?id=${id}`)\r\n        const json = await res.json()\r\n        // console.log(json)\r\n        return { data: json }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props)\r\n        return (\r\n            <Layout>\r\n                <Helmet>\r\n                    <title>{`${this.props.data.novelsname}`} - YYtruyen</title>\r\n                    <meta name=\"description\" content={`Truyện ${this.props.data.novelsname} là tác phẩm của tác giả ${this.props.data.author}, tiến trình: ${this.props.data.status}. Vào yytruyen.com để đọc những chương mới nhất của tác phẩm này nhé  `} />\r\n                    <meta name=\"theme-color\" content=\"#008f68\" />\r\n                    <meta name=\"keywords\" content=\"đọc truyện online, truyện online, truyện ngôn tình, truyện kiếm hiệp, truyện ngược, sủng\" />\r\n                    <script type=\"application/ld+json\">{`\r\n    {\r\n      \"@context\": \"http://schema.org\",\r\n      \"url\": \"http://yytruyen.com/truyen/${this.props.data.idnovels}\",\r\n      \"image\": \"${this.props.data.cover}\",\r\n      \"@type\": \"Book\",\r\n      \"name\": \"${this.props.data.novelsname}\",\r\n      \"author\": \"${this.props.data.author}\",\r\n      \"description\": \"${this.props.data.description}\"\r\n    }\r\n  `}</script>\r\n                </Helmet>\r\n                <div id=\"main_body\">\r\n                    <div className=\"cotgiua\">\r\n                        <div className=\"hfeed truyen_info_wrapper\">\r\n                            <div className=\"breadcrumb breadcrumbs\">\r\n                                <div className=\"rdfa-breadcrumb\">\r\n                                    <div>\r\n                                        <p>\r\n                                            <span className=\"breadcrumbs-title\" />\r\n                                            <span\r\n                                                itemScope\r\n                                                itemType=\"http://data-vocabulary.org/Breadcrumb\"\r\n                                            >\r\n                                                <Link\r\n                                                    href=\"/\"\r\n                                                >\r\n                                                    <a itemProp=\"url\" className=\"home\"\r\n                                                        title=\"Đọc truyện online\">\r\n                                                        <span itemProp=\"title\">Đọc truyện online</span>\r\n                                                    </a>\r\n                                                </Link>\r\n                                            </span>\r\n                                            <span className=\"separator\">»</span>\r\n                                            <span\r\n                                                itemScope\r\n                                                itemType=\"http://data-vocabulary.org/Breadcrumb\"\r\n                                            >\r\n                                                <Link\r\n                                                    as={`/truyen/${this.props.data.idnovels}`}\r\n                                                    href={`/truyen?id=${this.props.data.idnovels}`}\r\n\r\n                                                >\r\n                                                    <a itemProp=\"url\" title={this.props.data.novelsname}>\r\n                                                        <span itemProp=\"title\">\r\n                                                            {this.props.data.novelsname}\r\n                                                        </span>\r\n                                                    </a>\r\n                                                </Link>\r\n                                            </span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {this.props.data.chapterlist.length !== 0 ?\r\n                                <div className=\"hentry truyen_info\">\r\n                                    <div className=\"entry-header\">\r\n                                        <div className=\"truyen_if_wrap\">\r\n                                            <div className=\"truyen_info_left\">\r\n                                                <span\r\n                                                    className=\"info_image\"\r\n                                                    style={{\r\n                                                        background: `url(${\r\n                                                            this.props.data.cover\r\n                                                            })  center center no-repeat`,\r\n                                                        backgroundSize: \"contain\"\r\n                                                    }}\r\n                                                    title={this.props.data.novelsname}\r\n                                                >\r\n                                                    <img\r\n                                                        width={173}\r\n                                                        height={250}\r\n                                                        src={this.props.data.cover}\r\n                                                        className=\"attachment-large size-large wp-post-image\"\r\n                                                        alt={this.props.data.novelsname}\r\n                                                        title={this.props.data.novelsname}\r\n                                                        style={{ opacity: 0 }}\r\n                                                    />\r\n                                                </span>\r\n                                                {/* <Link href={'#list_chapter'}>\r\n                                                    <span\r\n                                                        onClick=\"movetolistchapter();\"\r\n                                                        className=\"btn_theodoi btn_list_chapter\"\r\n\r\n                                                    >\r\n                                                        Danh sách chương\r\n                  </span>\r\n                                                </Link> */}\r\n                                            </div>\r\n                                            <ul className=\"truyen_info_right\">\r\n                                                {/* <li> */}\r\n                                                <h1 className=\"entry-title\">\r\n                                                    <span>{this.props.data.novelsname}</span>\r\n                                                </h1>\r\n                                                {/* <span\r\n                      style={{\r\n                        font: \"400 14px Open Sans, Tahoma, Geneva, sans-serif\"\r\n                      }}\r\n                    >\r\n                      {this.state.view}\r\n                    </span>{\" \"} */}\r\n                                                {/* </li> */}\r\n                                                <li></li>\r\n                                                <li>\r\n                                                    <span>Tác giả: </span>\r\n                                                    {this.props.data.author}\r\n                                                </li>\r\n                                                <li>\r\n                                                    <span>Thể loại: </span>\r\n                                                    {this.props.data.genresdata.map(genresdata => (\r\n                                                        <Tag color=\"#f50\" style={{ margin: 2 }}>\r\n                                                            <Link as={`/theloai/${genresdata.idgenres}/page/1`} href={`/theloai?id=${genresdata.idgenres}&page=1`}>\r\n                                                                <a style={{ color: 'white' }} rel=\"nofollow\">\r\n                                                                    {genresdata.genrename}\r\n                                                                </a>\r\n                                                            </Link>\r\n                                                        </Tag>\r\n                                                    ))}\r\n                                                </li>\r\n                                                <li>\r\n                                                    <span>Tình trạng : </span>\r\n                                                    {this.props.data.status == 'Đang cập nhật' ? <Tag color=\"#f50\" style={{ margin: 2 }}>{this.props.data.status}</Tag> : <Tag color=\"#ff0080\" style={{ margin: 2 }}>{this.props.data.status}</Tag>}\r\n                                                </li>\r\n                                                <li>\r\n                                                    <span>view : </span>\r\n                                                    <em\r\n                                                        className=\"entry-meta\"\r\n                                                        style={{ padding: 0, fontStyle: \"initial\" }}\r\n                                                    >\r\n                                                        <em className=\"date updated\">\r\n                                                            {this.props.data.view}\r\n                                                        </em>\r\n                                                    </em>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div\r\n                                            id=\"noidungm\"\r\n                                            style={{\r\n                                                font: \"400 14px Open Sans, Tahoma, Geneva, sans-serif\",\r\n                                                color: \"#3e3e3e\",\r\n                                                width: \"100%\",\r\n                                                padding: \"10px 2%\",\r\n                                                background: \"#FFF\",\r\n                                                textAlign: \"justify\",\r\n                                                borderTop: \"1px dashed #ff530d\",\r\n                                                float: \"left\",\r\n                                                height: \"100%\",\r\n                                                position: \"relative\",\r\n                                                overflowY: \"auto\",\r\n                                                maxHeight: \"100%\",\r\n                                                overflowX: \"hidden\"\r\n                                            }}\r\n                                        >\r\n                                            <h2>\r\n                                                {/* <p style={{ color: \"red\" }}>\r\n                      {this.state.novelsname} summary:\r\n                  </p> */}\r\n                                            </h2>\r\n                                            {ReactHtmlParser(this.props.data.description)}\r\n                                            {/* {this.state.description} */}\r\n                                        </div>\r\n                                        <div style={{ width: \"100%\", textAlign: \"center\" }} />\r\n                                        <div id=\"list_chapter\" className=\"list_chapter\">\r\n                                            <div className=\"row title-list-chapter\">\r\n                                                <h2 className=\"h2-manga\">\r\n                                                    Danh sách chương\r\n                  </h2>\r\n                                            </div>\r\n                                            <div className=\"chapter-list\">\r\n                                                {this.props.data.chapterlist.map(datachapter => (\r\n                                                    <div className=\"row\" key={datachapter.idchapter}>\r\n                                                        <span><Link\r\n                                                            as={`/doc/${this.props.data.idnovels}/chapter/${datachapter.idchapter}`}\r\n                                                            href={`/doc?id=${this.props.data.idnovels}&chapter=${datachapter.idchapter}`}>\r\n                                                            <a title={datachapter.chaptername}>{datachapter.chaptername}</a>\r\n                                                        </Link></span>\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div> :\r\n                                <div className=\"hentry truyen_info\" style={{ background: 'white', float: 'left' }}>\r\n                                    <Skeleton active avatar></Skeleton>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAUA;AAAA;AACA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAYA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAEA;AACA;AAFA;AAKA;AADA;AAGA;AAAA;AACA;AADA;AAEA;AAAA;AAIA;AAAA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AAAA;AAWA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAGA;AAJA;AAMA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAPA;AAoBA;AAAA;AAEA;AAAA;AAkBA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAFA;AA0BA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAFA;AAGA;AAAA;AALA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAQA;;;;;;;;;;;;AAlNA;;AAGA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AARA;AACA;;;;;A","sourceRoot":""}